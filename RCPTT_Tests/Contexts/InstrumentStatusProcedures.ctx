--- RCPTT testcase ---
Format-Version: 1.0
Context-Type: org.eclipse.rcptt.ctx.ecl
Element-Name: InstrumentStatusProcedures
Element-Type: context
Element-Version: 2.0
Id: _u7zXkB5uEeaqQYS4M76Ebw
Runtime-Version: 2.0.1.201508250612
Save-Time: 6/13/16 4:30 PM

------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998
Content-Type: text/ecl
Entry-Name: .ecl.context

proc "assert_instrument_is"[val text] {
	get-view Dashboard | get-control Any -index 1 | get-property "getChildren().Control[0].getText()" 
	    | contains $text | verify-true
}

proc "assert_instrument_is_setup" {
	assert_instrument_is "SETUP"
}

proc "assert_instrument_is_running" {
	assert_instrument_is "RUNNING"
}

proc "assert_instrument_is_unknown" {
	assert_instrument_is "UNKNOWN"
}

proc "click_DAE_run_control" [val button_text] {
	switch_to_dae_view
	
	with [get-view "DAE Control Program"] {
	    get-tab-folder | get-tab-item "Run Summary" | click
	    get-button $button_text | click
	}
	
}

proc "begin_run" {
    click_DAE_run_control "BEGIN RUN"
    
    try -times 10 -delay 200 -command {
		assert_instrument_is_running
	}
}

proc "end_run" {
	click_DAE_run_control "END RUN"
	try -times 10 -delay 200 -command {
		assert_instrument_is_setup
	}
}


------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998--
