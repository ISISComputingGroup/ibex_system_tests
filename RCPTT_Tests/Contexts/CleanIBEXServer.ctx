--- RCPTT testcase ---
Format-Version: 1.0
Context-Type: org.eclipse.rcptt.ctx.ecl
Element-Name: CleanIBEXServer
Element-Type: context
Element-Version: 2.0
Id: _nbUl0C4eEea6L74Op-Ffbg
Runtime-Version: 2.1.0.201606221726
Save-Time: 10/9/17 4:35 PM

------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa
Content-Type: text/plain
Entry-Name: .description

Run a python script to clear up stateful information created by the GUI.  
------=_.description-216f885c-d591-38ce-8ea2-e4f8cb4d6ffa--
------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998
Content-Type: text/ecl
Entry-Name: .ecl.context

log_message "Starting clean Ibex Server"

// Ensure you are on the local instrument
try -times 100 -delay 200 -command {
	get-menu "IBEX/Switch Instrument" | click
}

with [get-window "Instrument Selector"] {
    let [val localhost [get-group Instrument | get-property -name "getChildren().Control[4].getChildren().Control[0].getChildren().Control[0].getItems().TableItem[0].getText()" -raw]] {
    	get-group Instrument | get-editbox -after [get-label "Instrument:"] | set-text $localhost
    }
    get-button OK | click
}

------=_.ecl.context-718f04b4-ed39-33e3-af62-0995e4561998--
